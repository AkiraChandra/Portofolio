/* ==============================================
   OPTIMIZED MOBILE SCROLL SOLUTION
   ============================================== */

/* Base scroll behavior - simplified */
html {
  scroll-behavior: auto; /* Always start with auto for mobile */
}

body {
  overflow-x: hidden;
  margin: 0;
  padding: 0;
}

/* ==============================================
   MOBILE SCROLL OPTIMIZATION (0-768px)
   ============================================== */

@media (max-width: 768px) {
  /* Remove all smooth scroll behavior on mobile */
  html, * {
    scroll-behavior: auto !important;
  }
  
  /* Mobile container optimizations */
  .mobile-scroll-container,
  .h-full.overflow-y-auto {
    /* Essential mobile scroll properties */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: auto;
    touch-action: pan-y;
    
    /* Remove conflicts */
    scroll-behavior: auto !important;
    scroll-snap-type: none !important;
    
    /* Hardware acceleration without conflicts */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    
    /* Prevent layout shifts */
    overflow-anchor: none;
    contain: layout style paint;
  }
  
  /* Remove transitions that cause delays */
  .mobile-scroll-smooth {
    transition: none !important;
    scroll-behavior: auto !important;
  }
  
  /* iOS specific fixes */
  .ios-scroll-fix {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: auto;
    /* Remove transform conflicts */
  }
  
  /* Timeline container specific fixes */
  .timeline-container {
    scroll-behavior: auto !important;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    
    /* Immediate scroll without animation on mobile */
    transition: none !important;
  }
}

/* ==============================================
   TABLET SCROLL (769px-1024px)
   ============================================== */

@media (min-width: 769px) and (max-width: 1024px) {
  html {
    scroll-behavior: smooth;
  }
  
  /* Moderate optimization for tablets */
  .tablet-scroll-container {
    scroll-behavior: smooth;
    overscroll-behavior: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* ==============================================
   DESKTOP SCROLL (1025px+)
   ============================================== */

@media (min-width: 1025px) {
  html {
    scroll-behavior: smooth;
  }
  
  /* Full smooth scroll experience on desktop */
  .desktop-scroll-container {
    scroll-behavior: smooth;
    scroll-snap-type: y mandatory;
    overscroll-behavior: contain;
  }
  
  .desktop-section {
    scroll-snap-align: start;
    scroll-snap-stop: always;
  }
}

/* ==============================================
   ACCESSIBILITY & PERFORMANCE
   ============================================== */

/* Respect user preferences */
@media (prefers-reduced-motion: reduce) {
  html, * {
    scroll-behavior: auto !important;
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* Performance optimizations */
.scroll-container {
  will-change: auto; /* Remove will-change on mobile */
}

@media (min-width: 1025px) {
  .scroll-container {
    will-change: scroll-position;
  }
}